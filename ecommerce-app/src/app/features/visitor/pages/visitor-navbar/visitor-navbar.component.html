<div class="navbar-spacer" [style.height.px]="navbarHeight"></div>

<nav class="visitor-navbar" [class.hidden]="isNavbarHidden">
  <div class="container">
    <div class="navbar-inner">
      <div class="logo"><a routerLink="/">AzuL</a></div>

      <div class="categories-wrapper">
        <button class="categories-btn" (click)="toggleCategories()">Categories ▾</button>
        <ul class="categories-menu" [class.open]="categoriesOpen">
          <li *ngFor="let cat of categories">
            <a [routerLink]="['/category', cat.categoryId, cat.name]" (click)="categoriesOpen = false">{{ cat.name }}</a>
          </li>
          <li *ngIf="categories.length === 0"><a (click)="categoriesOpen = false">No categories</a></li>
        </ul>
      </div>

      <form [formGroup]="visitorSearchForm" class="search-box" (ngSubmit)="onVisitorSearch()">
        <input formControlName="query" type="text" placeholder="Search products..." />
        <button type="submit" aria-label="Search">🔍</button>
      </form>

      <a routerLink="/login-required" class="icon-link">❤️ Favorites</a>
      <a routerLink="/login-required" class="icon-link">🛒 Cart</a>
      <a routerLink="/login" class="nav-link auth-link login-link">Login</a>
      <a routerLink="/register" class="nav-link auth-link register-link">Register</a>
    </div>
  </div>
</nav>